html, body { height:100%; background:var(--bg); color:var(--on-surface); overflow-x:hidden; }
body { font-family:"Roboto Flex", system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, sans-serif; }

/* === Глобальный кроссфейд интерфейса при смене темы === */
body.theme-xfade{
  transition: opacity 220ms ease-in-out;
}

/* Navbar */
.navbar{ background:var(--surface)!important; border-bottom:0 !important; box-shadow:0 6px 16px rgba(0,0,0,0.18), var(--elev-1); }
.content{ padding:18px; }

/* Карточки */
.card{
  background:var(--surface); border:1px solid var(--border); border-radius:var(--radius);
  box-shadow:var(--elev-1); color:var(--on-surface);
  transition:box-shadow .18s ease, background .18s ease; /* без сдвига */
}
.card.kpi{ box-shadow:var(--elev-2); transition:transform .18s ease, box-shadow .18s ease, background .18s ease; }
.card.kpi:hover{ background: var(--kpi-hover-bg); transform: translateY(-1px) scale(1.005); box-shadow: 0 10px 26px rgba(0,0,0,0.28); }

/* Типографика KPI теперь в styles_typography.css */
.form-label, .text-muted { color:var(--on-surface-variant)!important; }

/* Глобальный стиль скроллбаров */
*{ scrollbar-width: thin; scrollbar-color: rgba(255,255,255,0.18) transparent; }
*::-webkit-scrollbar{ height:10px; width:10px; }
*::-webkit-scrollbar-track{ background: transparent; }
*::-webkit-scrollbar-thumb{ background: rgba(255,255,255,0.18); border-radius: 10px; border: 2px solid transparent; background-clip: padding-box; }
[data-theme="light"] *{ scrollbar-color: rgba(0,0,0,0.22) transparent; }
[data-theme="light"] *::-webkit-scrollbar-thumb{ background: rgba(0,0,0,0.22); border: 2px solid transparent; }

/* Медиа-запросы */
@media (max-width: 576px){
  .content { padding: 12px; }
  #chart{ height:360px; } 
  .fab{ right:10px; bottom:10px; }
}
@media (max-width: 768px){
  #chart{ height:420px; } 
  .toolbar{ gap:.6rem .8rem; } 
  .nav-tabs .nav-link{ padding:.5rem .6rem; }
}
@media (max-width: 992px){ 
  #chart{ height:480px; } 
  .toolbar .group{ min-width: 46%; } 
  .toolbar .group.narrow{ min-width: 30%; } 
}
@media (max-width: 1200px){ 
  #chart{ height:520px; } 
}
